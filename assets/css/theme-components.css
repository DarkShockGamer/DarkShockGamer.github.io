/* Theme-Aware UI Components
 * Shared styles for completion bars, tabs, theme selectors, and cards
 * that adapt to all 8 adaptive themes
 */

/* ============================= */
/* 1. COMPLETION BAR (tasks page) */
/* ============================= */

/* Baseline/default styles (light theme defaults) */
.completion-bar-container {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 0.75rem;
  padding: 1rem;
  margin-top: 1rem;
  box-shadow: 0 1px 2px rgba(2, 6, 23, 0.05);
}

.completion-bar-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 0.5rem;
}

.completion-bar-label {
  font-size: 0.875rem;
  font-weight: 600;
  color: #0f172a;
}

.completion-bar-percentage {
  font-size: 0.875rem;
  font-weight: 700;
  color: #0369a1;
}

.completion-bar-track {
  width: 100%;
  height: 0.75rem;
  background: #e2e8f0;
  border-radius: 9999px;
  overflow: hidden;
  position: relative;
}

.completion-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, #0ea5e9 0%, #0284c7 100%);
  border-radius: 9999px;
  transition: width 0.5s ease-in-out;
  box-shadow: 0 1px 3px rgba(14, 165, 233, 0.3);
}

.completion-bar-stats {
  display: flex;
  gap: 1.5rem;
  margin-top: 0.5rem;
  font-size: 0.75rem;
  color: #64748b;
}

.completion-bar-stat {
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.completion-bar-stat-dot {
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 9999px;
}

.stat-dot-done { background: #10b981; }
.stat-dot-progress { background: #f59e0b; }
.stat-dot-todo { background: #6366f1; }
.stat-dot-backlog { background: #94a3b8; }

/* Light theme (explicit overrides) */
html.theme-light .completion-bar-container {
  background: white;
  border-color: #e2e8f0;
}

html.theme-light .completion-bar-label {
  color: #0f172a;
}

html.theme-light .completion-bar-percentage {
  color: #0369a1;
}

html.theme-light .completion-bar-track {
  background: #e2e8f0;
}

html.theme-light .completion-bar-stats {
  color: #64748b;
}

/* Dark theme */
html.theme-dark .completion-bar-container {
  background: #0f172a;
  border-color: #1f2937;
}

html.theme-dark .completion-bar-label {
  color: #e5e7eb;
}

html.theme-dark .completion-bar-percentage {
  color: #7dd3fc;
}

html.theme-dark .completion-bar-track {
  background: #1e293b;
}

html.theme-dark .completion-bar-stats {
  color: #94a3b8;
}

/* High Contrast Light */
html.theme-high-contrast-light .completion-bar-container {
  background: #ffffff;
  border: 3px solid #000000;
  box-shadow: none;
}

html.theme-high-contrast-light .completion-bar-label {
  color: #000000;
  font-weight: 700;
}

html.theme-high-contrast-light .completion-bar-percentage {
  color: #16a34a;
  font-weight: 700;
}

html.theme-high-contrast-light .completion-bar-track {
  background: #e5e5e5;
  border: 2px solid #000000;
}

html.theme-high-contrast-light .completion-bar-fill {
  background: #16a34a;
  box-shadow: none;
}

html.theme-high-contrast-light .completion-bar-stats {
  color: #000000;
  font-weight: 600;
}

/* High Contrast Dark */
html.theme-high-contrast-dark .completion-bar-container,
html.theme-high-contrast .completion-bar-container {
  background: #000000;
  border: 3px solid #ffffff;
  box-shadow: none;
}

html.theme-high-contrast-dark .completion-bar-label,
html.theme-high-contrast .completion-bar-label {
  color: #ffffff;
  font-weight: 700;
}

html.theme-high-contrast-dark .completion-bar-percentage,
html.theme-high-contrast .completion-bar-percentage {
  color: #22c55e;
  font-weight: 700;
}

html.theme-high-contrast-dark .completion-bar-track,
html.theme-high-contrast .completion-bar-track {
  background: #1a1a1a;
  border: 2px solid #ffffff;
}

html.theme-high-contrast-dark .completion-bar-fill,
html.theme-high-contrast .completion-bar-fill {
  background: #22c55e;
  box-shadow: none;
}

html.theme-high-contrast-dark .completion-bar-stats,
html.theme-high-contrast .completion-bar-stats {
  color: #ffffff;
  font-weight: 600;
}

/* Neon theme */
html.theme-neon .completion-bar-container {
  background: rgba(10, 10, 20, 0.9);
  border: 2px solid #ff00ff;
  box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
}

html.theme-neon .completion-bar-label {
  color: #00ffff;
  text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
}

html.theme-neon .completion-bar-percentage {
  color: #ff00ff;
  text-shadow: 0 0 5px rgba(255, 0, 255, 0.5);
}

html.theme-neon .completion-bar-track {
  background: #001a00;
  border: 1px solid #ff00ff;
}

html.theme-neon .completion-bar-fill {
  background: linear-gradient(90deg, #ff00ff 0%, #00ffff 100%);
  box-shadow: 0 0 10px rgba(255, 0, 255, 0.5);
}

html.theme-neon .completion-bar-stats {
  color: #e0e0e0;
}

/* OLED theme */
html.theme-oled .completion-bar-container {
  background: #000000;
  border: 1px solid #333333;
  box-shadow: none;
}

html.theme-oled .completion-bar-label {
  color: #ffffff;
}

html.theme-oled .completion-bar-percentage {
  color: #60a5fa;
}

html.theme-oled .completion-bar-track {
  background: #1a1a1a;
  border: 1px solid #333333;
}

html.theme-oled .completion-bar-fill {
  background: linear-gradient(90deg, #60a5fa 0%, #3b82f6 100%);
  box-shadow: none;
}

html.theme-oled .completion-bar-stats {
  color: #e0e0e0;
}

/* Paper theme */
html.theme-paper .completion-bar-container {
  background: #ffffff;
  border: 1px solid #d4d4d0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

html.theme-paper .completion-bar-label {
  color: #1a1a1a;
}

html.theme-paper .completion-bar-percentage {
  color: #4a4a46;
}

html.theme-paper .completion-bar-track {
  background: #f8f8f0;
  border: 1px solid #d4d4d0;
}

html.theme-paper .completion-bar-fill {
  background: linear-gradient(90deg, #5a5a54 0%, #4a4a46 100%);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

html.theme-paper .completion-bar-stats {
  color: #5a5a54;
}

/* Retro CRT theme */
html.theme-retro-crt .completion-bar-container {
  background: #001a00;
  border: 2px solid #00ff00;
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
}

html.theme-retro-crt .completion-bar-label {
  color: #00ff00;
  text-shadow: 0 0 5px #00ff00;
}

html.theme-retro-crt .completion-bar-percentage {
  color: #00ff00;
  text-shadow: 0 0 5px #00ff00;
}

html.theme-retro-crt .completion-bar-track {
  background: #000000;
  border: 1px solid #00ff00;
}

html.theme-retro-crt .completion-bar-fill {
  background: #003300;
  box-shadow: 0 0 8px rgba(0, 255, 0, 0.4);
}

html.theme-retro-crt .completion-bar-stats {
  color: #00ff00;
  text-shadow: 0 0 2px #00ff00;
}

/* ============================= */
/* 2. TABS & TAB INDICATOR (settings page) */
/* ============================= */

/* Baseline/default styles (light theme defaults) */
.tabs { 
  display: flex;
  gap: 2px;
  background: #f1f5f9;
  border-radius: 0.5rem;
  padding: 4px; 
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  position: relative;
}

.tab-btn {
  flex: 1 1 auto;
  padding: 0.5rem 1rem;
  border-radius: 0.5rem;
  background: none;
  border: none;
  font-weight: 600;
  color: #64748b;
  transition: color 180ms;
  cursor: pointer;
  white-space: nowrap;
  min-width: max-content;
  position: relative;
  z-index: 1;
}

.tab-btn[aria-selected="true"] {
  color: white;
}

.tab-indicator {
  position: absolute;
  top: 4px;
  left: 4px;
  height: calc(100% - 8px);
  border-radius: 0.5rem;
  background: linear-gradient(90deg, #38bdf8 60%, #818cf8 100%);
  box-shadow: 0 2px 8px rgba(56,189,248,0.09);
  transition: transform 200ms cubic-bezier(0.4, 0, 0.2, 1), width 200ms cubic-bezier(0.4, 0, 0.2, 1);
  pointer-events: none;
  z-index: 0;
}

/* Light theme */
html.theme-light .tabs {
  background: #f1f5f9;
}

html.theme-light .tab-btn {
  color: #64748b;
}

/* Dark theme */
html.theme-dark .tabs {
  background: #1e293b;
}

html.theme-dark .tab-btn {
  color: #94a3b8;
}

/* High Contrast Light */
html.theme-high-contrast-light .tabs {
  background: #e5e5e5;
  border: 3px solid #000000;
}

html.theme-high-contrast-light .tab-btn {
  color: #000000;
  border: 2px solid transparent;
  font-weight: 700;
}

html.theme-high-contrast-light .tab-btn[aria-selected="true"] {
  background: #16a34a;
  color: #ffffff;
  border: 3px solid #000000;
}

html.theme-high-contrast-light .tab-indicator {
  display: none; /* Hide gradient indicator in high contrast */
}

/* High Contrast Dark */
html.theme-high-contrast-dark .tabs,
html.theme-high-contrast .tabs {
  background: #000000;
  border: 3px solid #ffffff;
}

html.theme-high-contrast-dark .tab-btn,
html.theme-high-contrast .tab-btn {
  color: #ffffff;
  border: 2px solid transparent;
  font-weight: 700;
}

html.theme-high-contrast-dark .tab-btn[aria-selected="true"],
html.theme-high-contrast .tab-btn[aria-selected="true"] {
  background: #22c55e;
  color: #000000;
  border: 3px solid #ffffff;
}

html.theme-high-contrast-dark .tab-indicator,
html.theme-high-contrast .tab-indicator {
  display: none; /* Hide gradient indicator in high contrast */
}

/* Neon theme */
html.theme-neon .tabs {
  background: rgba(10, 10, 20, 0.9);
  border: 2px solid #ff00ff;
}

html.theme-neon .tab-btn {
  color: #e0e0e0;
}

html.theme-neon .tab-btn[aria-selected="true"] {
  color: #00ffff;
  text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

html.theme-neon .tab-indicator {
  background: linear-gradient(90deg, #ff00ff 0%, #00ffff 100%);
  box-shadow: 0 0 15px rgba(255, 0, 255, 0.5);
}

/* OLED theme */
html.theme-oled .tabs {
  background: #000000;
  border: 1px solid #333333;
}

html.theme-oled .tab-btn {
  color: #e0e0e0;
}

html.theme-oled .tab-btn[aria-selected="true"] {
  color: #ffffff;
}

html.theme-oled .tab-indicator {
  background: #1a1a1a;
  box-shadow: none;
}

/* Paper theme */
html.theme-paper .tabs {
  background: #f8f8f0;
  border: 1px solid #d4d4d0;
}

html.theme-paper .tab-btn {
  color: #5a5a54;
}

html.theme-paper .tab-btn[aria-selected="true"] {
  color: #1a1a1a;
}

html.theme-paper .tab-indicator {
  background: #4a4a46;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Retro CRT theme */
html.theme-retro-crt .tabs {
  background: #001a00;
  border: 2px solid #00ff00;
}

html.theme-retro-crt .tab-btn {
  color: #00ff00;
  text-shadow: 0 0 2px #00ff00;
}

html.theme-retro-crt .tab-btn[aria-selected="true"] {
  color: #00ff00;
  text-shadow: 0 0 5px #00ff00;
}

html.theme-retro-crt .tab-indicator {
  background: #003300;
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
}

/* ============================= */
/* 3. THEME SELECTOR (settings page) */
/* ============================= */

/* Baseline/default styles (light theme defaults) */
.theme-selector {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.5rem;
  background: #f1f5f9;
  border-radius: 0.75rem;
  padding: 0.5rem;
}

.theme-option {
  padding: 0.75rem 1rem;
  border-radius: 0.5rem;
  border: none;
  background: none;
  font-weight: 600;
  color: #64748b;
  transition: all 180ms cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  text-align: center;
  font-size: 0.875rem;
}

.theme-option:hover {
  background: rgba(56, 189, 248, 0.1);
  color: #38bdf8;
}

/* Light and Dark themes get blue-indigo gradient */
.theme-option[data-theme="light"].active,
.theme-option[data-theme="dark"].active {
  background: linear-gradient(90deg, #38bdf8 60%, #818cf8 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(56, 189, 248, 0.15);
}

/* High Contrast themes get blue-green gradient */
.theme-option[data-theme="high-contrast-light"].active,
.theme-option[data-theme="high-contrast-dark"].active {
  background: linear-gradient(90deg, #38bdf8 60%, #10b981 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(56, 189, 248, 0.15);
}

/* Light theme */
html.theme-light .theme-selector {
  background: #f1f5f9;
}

/* Dark theme */
html.theme-dark .theme-selector {
  background: #1e293b;
}

html.theme-dark .theme-option {
  color: #94a3b8;
}

html.theme-dark .theme-option:hover {
  background: rgba(56, 189, 248, 0.15);
  color: #7dd3fc;
}

/* High Contrast Light */
html.theme-high-contrast-light .theme-selector {
  background: #e5e5e5;
  border: 3px solid #000000;
}

html.theme-high-contrast-light .theme-option {
  color: #000000;
  border: 2px solid transparent;
}

html.theme-high-contrast-light .theme-option:hover {
  background: #d4d4d4;
  border-color: #000000;
}

html.theme-high-contrast-light .theme-option[data-theme="light"].active,
html.theme-high-contrast-light .theme-option[data-theme="dark"].active {
  background: #0284c7;
  color: #ffffff;
  border: 3px solid #000000;
  box-shadow: none;
}

html.theme-high-contrast-light .theme-option[data-theme="high-contrast-light"].active,
html.theme-high-contrast-light .theme-option[data-theme="high-contrast-dark"].active {
  background: #16a34a;
  color: #ffffff;
  border: 3px solid #000000;
  box-shadow: none;
}

/* High Contrast Dark */
html.theme-high-contrast-dark .theme-selector,
html.theme-high-contrast .theme-selector {
  background: #000000;
  border: 3px solid #ffffff;
}

html.theme-high-contrast-dark .theme-option,
html.theme-high-contrast .theme-option {
  color: #ffffff;
  border: 2px solid transparent;
  font-weight: 700;
}

html.theme-high-contrast-dark .theme-option:hover,
html.theme-high-contrast .theme-option:hover {
  background: #1a1a1a;
  border-color: #ffffff;
}

html.theme-high-contrast-dark .theme-option[data-theme="light"].active,
html.theme-high-contrast-dark .theme-option[data-theme="dark"].active,
html.theme-high-contrast .theme-option[data-theme="light"].active,
html.theme-high-contrast .theme-option[data-theme="dark"].active {
  background: #0284c7;
  color: #000000;
  border: 3px solid #ffffff;
  box-shadow: none;
}

html.theme-high-contrast-dark .theme-option[data-theme="high-contrast-light"].active,
html.theme-high-contrast-dark .theme-option[data-theme="high-contrast-dark"].active,
html.theme-high-contrast .theme-option[data-theme="high-contrast-light"].active,
html.theme-high-contrast .theme-option[data-theme="high-contrast-dark"].active {
  background: #22c55e;
  color: #000000;
  border: 3px solid #ffffff;
  box-shadow: none;
}

/* Neon theme */
html.theme-neon .theme-selector {
  background: rgba(10, 10, 20, 0.9);
  border: 2px solid #ff00ff;
}

html.theme-neon .theme-option {
  color: #e0e0e0;
}

html.theme-neon .theme-option:hover {
  background: rgba(255, 0, 255, 0.2);
  color: #00ffff;
}

html.theme-neon .theme-option.active {
  background: linear-gradient(90deg, #ff00ff 0%, #00ffff 100%);
  color: #000000;
  box-shadow: 0 0 15px rgba(255, 0, 255, 0.5);
}

/* OLED theme */
html.theme-oled .theme-selector {
  background: #000000;
  border: 1px solid #333333;
}

html.theme-oled .theme-option {
  color: #e0e0e0;
}

html.theme-oled .theme-option:hover {
  background: #1a1a1a;
  color: #ffffff;
}

html.theme-oled .theme-option.active {
  background: #1a1a1a;
  color: #ffffff;
  border: 1px solid #444444;
  box-shadow: none;
}

/* Paper theme */
html.theme-paper .theme-selector {
  background: #f8f8f0;
  border: 1px solid #d4d4d0;
}

html.theme-paper .theme-option {
  color: #5a5a54;
}

html.theme-paper .theme-option:hover {
  background: #e8e8e0;
  color: #1a1a1a;
}

html.theme-paper .theme-option.active {
  background: #4a4a46;
  color: #fdfdf8;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
}

/* Retro CRT theme */
html.theme-retro-crt .theme-selector {
  background: #001a00;
  border: 2px solid #00ff00;
}

html.theme-retro-crt .theme-option {
  color: #00ff00;
  text-shadow: 0 0 2px #00ff00;
}

html.theme-retro-crt .theme-option:hover {
  background: #003300;
  color: #00ff00;
  text-shadow: 0 0 5px #00ff00;
}

html.theme-retro-crt .theme-option.active {
  background: #003300;
  color: #00ff00;
  text-shadow: 0 0 8px #00ff00;
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
}

/* ============================= */
/* 4. CARD (links page) */
/* ============================= */

/* Baseline/default styles (light theme defaults) */
.card {
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 1rem;
  box-shadow: 0 1px 2px rgba(2, 6, 23, 0.05);
}

/* Light theme */
html.theme-light .card {
  background: white;
  border-color: #e2e8f0;
}

/* Dark theme */
html.theme-dark .card {
  background: #0f172a;
  border-color: #1f2937;
}

/* High Contrast Light */
html.theme-high-contrast-light .card {
  background: #ffffff;
  border: 3px solid #000000;
  box-shadow: none;
}

/* High Contrast Dark */
html.theme-high-contrast-dark .card,
html.theme-high-contrast .card {
  background: #000000;
  border: 3px solid #ffffff;
  box-shadow: none;
}

/* Neon theme */
html.theme-neon .card {
  background: rgba(10, 10, 20, 0.9);
  border: 2px solid #ff00ff;
  box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
}

/* OLED theme */
html.theme-oled .card {
  background: #000000;
  border: 1px solid #333333;
  box-shadow: none;
}

/* Paper theme */
html.theme-paper .card {
  background: #ffffff;
  border: 1px solid #d4d4d0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

/* Retro CRT theme */
html.theme-retro-crt .card {
  background: #001a00;
  border: 2px solid #00ff00;
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
}
