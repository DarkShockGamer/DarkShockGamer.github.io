/* Adaptive Theme Variants - Modern background treatments */
/* These styles provide contemporary, clean backgrounds for all adaptive theme variants */

/* Base button normalization - Fix vertical text alignment */
.btn,
button.btn,
a.btn,
button[class*="btn"],
.save-btn,
.cancel-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  line-height: 1;
  min-height: 2.25rem;
  gap: 0.5rem;
}

/* Base background modernization */
body {
  position: relative;
  transition: background 400ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Light Theme - Clean light background with BLUE accent */
html.theme-light body {
  background: linear-gradient(to bottom, #f0f9ff 60%, #e0e7ef 100%);
  color: #1e293b;
  color-scheme: light;
}

html.theme-light .panel,
html.theme-light .setting-card {
  background: rgba(255, 255, 255, 0.9);
  border-color: rgba(56, 189, 248, 0.3);
}

html.theme-light h1,
html.theme-light h2,
html.theme-light h3,
html.theme-light .heading {
  color: #0c4a6e;
}

html.theme-light input,
html.theme-light select,
html.theme-light textarea {
  background: #f8fafc;
  border-color: #93c5fd;
  color: #0f172a;
}

/* Primary button styling for Light theme - blue gradient */
html.theme-light .btn-primary,
html.theme-light button.btn-primary {
  background: linear-gradient(90deg, #38bdf8 60%, #818cf8 100%);
  color: white;
}

/* Button variants - retain their specific colors */
html.theme-light .btn-success {
  background: linear-gradient(90deg, #10b981 60%, #059669 100%);
  color: white;
}

html.theme-light .btn-danger {
  background: linear-gradient(90deg, #ef4444 60%, #dc2626 100%);
  color: white;
}

html.theme-light .btn-warning {
  background: linear-gradient(90deg, #f59e0b 60%, #d97706 100%);
  color: white;
}

html.theme-light .btn-neutral {
  background: linear-gradient(90deg, #64748b 60%, #475569 100%);
  color: white;
}

html.theme-light a {
  color: #0284c7;
}

/* Dark Theme - Modern dark background with INDIGO accent */
html.theme-dark body {
  background: linear-gradient(to bottom, #192132 60%, #0b1220 100%);
  color: #e5e7eb;
  color-scheme: dark;
}

html.theme-dark .panel,
html.theme-dark .setting-card {
  background: rgba(15, 23, 42, 0.9);
  border-color: rgba(99, 102, 241, 0.4);
}

html.theme-dark h1,
html.theme-dark h2,
html.theme-dark h3,
html.theme-dark .heading {
  color: #e0e7ff;
}

html.theme-dark input,
html.theme-dark select,
html.theme-dark textarea {
  background: #1e293b;
  border-color: #818cf8;
  color: #e5e7eb;
}

/* Primary button styling for Dark theme - lighter blue gradient (sky tones) */
html.theme-dark .btn-primary,
html.theme-dark button.btn-primary {
  background: linear-gradient(90deg, #38bdf8 60%, #7dd3fc 100%);
  color: white;
}

/* Button variants - retain their specific colors */
html.theme-dark .btn-success {
  background: linear-gradient(90deg, #10b981 60%, #34d399 100%);
  color: white;
}

html.theme-dark .btn-danger {
  background: linear-gradient(90deg, #ef4444 60%, #f87171 100%);
  color: white;
}

html.theme-dark .btn-warning {
  background: linear-gradient(90deg, #f59e0b 60%, #fbbf24 100%);
  color: white;
}

html.theme-dark .btn-neutral {
  background: linear-gradient(90deg, #64748b 60%, #94a3b8 100%);
  color: white;
}

html.theme-dark a {
  color: #a5b4fc;
}

/* High Contrast Light Theme - Maximum contrast for accessibility with GREEN accent */
html.theme-high-contrast-light body {
  background: #ffffff;
  color: #000000;
  color-scheme: light;
}

html.theme-high-contrast-light .panel,
html.theme-high-contrast-light .setting-card {
  background: #ffffff;
  border: 3px solid #000000;
  box-shadow: none;
}

html.theme-high-contrast-light h1,
html.theme-high-contrast-light h2,
html.theme-high-contrast-light h3,
html.theme-high-contrast-light .heading {
  color: #000000;
  font-weight: 700;
}

html.theme-high-contrast-light input,
html.theme-high-contrast-light select,
html.theme-high-contrast-light textarea {
  background: #ffffff;
  border: 3px solid #000000;
  color: #000000;
  font-weight: 600;
}

/* Primary button styling for high-contrast light - green accent */
html.theme-high-contrast-light .btn-primary,
html.theme-high-contrast-light button.btn-primary {
  background: #16a34a;
  color: #ffffff;
  border: 3px solid #000000;
  font-weight: 700;
}

/* Button variants - retain their specific colors with high contrast */
html.theme-high-contrast-light .btn-success {
  background: #16a34a;
  color: #ffffff;
  border: 3px solid #000000;
  font-weight: 700;
}

html.theme-high-contrast-light .btn-danger {
  background: #dc2626;
  color: #ffffff;
  border: 3px solid #000000;
  font-weight: 700;
}

html.theme-high-contrast-light .btn-warning {
  background: #d97706;
  color: #000000;
  border: 3px solid #000000;
  font-weight: 700;
}

html.theme-high-contrast-light .btn-neutral {
  background: #64748b;
  color: #ffffff;
  border: 3px solid #000000;
  font-weight: 700;
}

html.theme-high-contrast-light a {
  color: #15803d;
  text-decoration: underline;
  font-weight: 600;
}

/* High Contrast Dark Theme - Maximum contrast for accessibility in dark mode with GREEN accent */
html.theme-high-contrast-dark body {
  background: #000000;
  color: #ffffff;
  color-scheme: dark;
}

html.theme-high-contrast-dark .panel,
html.theme-high-contrast-dark .setting-card {
  background: #000000;
  border: 3px solid #ffffff;
  box-shadow: none;
}

html.theme-high-contrast-dark h1,
html.theme-high-contrast-dark h2,
html.theme-high-contrast-dark h3,
html.theme-high-contrast-dark .heading {
  color: #ffffff;
  font-weight: 700;
}

html.theme-high-contrast-dark input,
html.theme-high-contrast-dark select,
html.theme-high-contrast-dark textarea {
  background: #000000;
  border: 3px solid #ffffff;
  color: #ffffff;
  font-weight: 600;
}

/* Primary button styling for high-contrast dark - green accent */
html.theme-high-contrast-dark .btn-primary,
html.theme-high-contrast-dark button.btn-primary {
  background: #22c55e;
  color: #000000;
  border: 3px solid #ffffff;
  font-weight: 700;
}

/* Button variants - retain their specific colors with high contrast */
html.theme-high-contrast-dark .btn-success {
  background: #22c55e;
  color: #000000;
  border: 3px solid #ffffff;
  font-weight: 700;
}

html.theme-high-contrast-dark .btn-danger {
  background: #f87171;
  color: #000000;
  border: 3px solid #ffffff;
  font-weight: 700;
}

html.theme-high-contrast-dark .btn-warning {
  background: #fbbf24;
  color: #000000;
  border: 3px solid #ffffff;
  font-weight: 700;
}

html.theme-high-contrast-dark .btn-neutral {
  background: #94a3b8;
  color: #000000;
  border: 3px solid #ffffff;
  font-weight: 700;
}

html.theme-high-contrast-dark a {
  color: #4ade80;
  text-decoration: underline;
  font-weight: 600;
}

/* Shared palette overrides so existing pages pick up accessible colors */
/* Legacy variable names are preserved for compatibility with existing page styles.
   Values are intentionally inverted for contrast; these map onto existing references,
   so renaming would require sweeping refactors across pages. */
html.theme-high-contrast-light {
  --dark-blue: #000000;
  --medium-blue: #ffffff;
  --light-blue: #000000;
  --accent: #16a34a;
  /* Keep variable names for compatibility while inverting real values for contrast */
  --white: #000000;
}

html.theme-high-contrast-dark {
  --dark-blue: #000000;
  --medium-blue: #000000;
  --light-blue: #ffffff;
  --accent: #22c55e;
  /* Keep variable names for compatibility while inverting real values for contrast */
  --white: #ffffff;
}

/* Navigation + card clean up for high contrast across all pages */
html.theme-high-contrast-light .site-nav,
html.theme-high-contrast-light header {
  background: #ffffff;
  color: #000000;
  border-color: #000000;
  box-shadow: none;
}

html.theme-high-contrast-dark .site-nav,
html.theme-high-contrast-dark header {
  background: #000000;
  color: #ffffff;
  border-color: #ffffff;
  box-shadow: none;
}

html[class*="theme-high-contrast"] .nav-links a,
html[class*="theme-high-contrast"] .nav-links-mobile a {
  border-bottom-color: transparent;
}

html.theme-high-contrast-light .nav-links a:hover,
html.theme-high-contrast-light .nav-links-mobile a:hover {
  color: #000000;
  border-bottom-color: #000000;
}

html.theme-high-contrast-dark .nav-links a:hover,
html.theme-high-contrast-dark .nav-links-mobile a:hover {
  color: #ffffff;
  border-bottom-color: #ffffff;
}

html.theme-high-contrast-light .nav-links-mobile { background: #ffffff; border-color: #000000; }
html.theme-high-contrast-dark .nav-links-mobile { background: #000000; border-color: #ffffff; }

html.theme-high-contrast-light .card,
html.theme-high-contrast-light .sponsor-card,
html.theme-high-contrast-light .panel,
html.theme-high-contrast-light .timeline-item,
html.theme-high-contrast-light .competition-frame,
html.theme-high-contrast-light footer {
  background: #ffffff;
  color: #000000;
  border: 2px solid #000000;
  box-shadow: none;
}

html.theme-high-contrast-dark .card,
html.theme-high-contrast-dark .sponsor-card,
html.theme-high-contrast-dark .panel,
html.theme-high-contrast-dark .timeline-item,
html.theme-high-contrast-dark .competition-frame,
html.theme-high-contrast-dark footer {
  background: #000000;
  color: #ffffff;
  border: 2px solid #ffffff;
  box-shadow: none;
}

html[class*="theme-high-contrast"] .sponsor-button,
html[class*="theme-high-contrast"] .btn,
html[class*="theme-high-contrast"] button {
  box-shadow: none !important;
}

/* Date input calendar picker indicator visibility fixes */

/* Portal link - always hidden by default, shown only when authenticated */
.portal-link {
  display: none !important;
}

.portal-link.authenticated {
  display: inline-block !important;
}

.nav-links-mobile .portal-link.authenticated {
  display: block !important;
}

/* NEON Theme - Cyberpunk aesthetic with vibrant colors */
html.theme-neon body {
  background: linear-gradient(to bottom, #0a0a0f 0%, #1a0a2e 100%);
  color: #e0e0e0;
  color-scheme: dark;
}

html.theme-neon .panel,
html.theme-neon .setting-card {
  background: rgba(10, 10, 20, 0.9);
  border: 2px solid #ff00ff;
  box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
}

html.theme-neon h1,
html.theme-neon h2,
html.theme-neon h3,
html.theme-neon .heading {
  color: #00ffff;
  text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
}

html.theme-neon input,
html.theme-neon select,
html.theme-neon textarea {
  background: #0a0a0f;
  border: 2px solid #ff00ff;
  color: #e0e0e0;
}

html.theme-neon .btn-primary,
html.theme-neon button.btn-primary {
  background: linear-gradient(90deg, #ff00ff 0%, #00ffff 100%);
  color: #000000;
  font-weight: 700;
  text-shadow: none;
  box-shadow: 0 0 15px rgba(255, 0, 255, 0.5);
}

html.theme-neon a {
  color: #00ffff;
  text-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
}

html.theme-neon .site-nav,
html.theme-neon header {
  background: #0a0a0f;
  border-color: #ff00ff;
  box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
}

/* OLED Theme - Pure black for OLED screens to save battery */
html.theme-oled body {
  background: #000000;
  color: #e0e0e0;
  color-scheme: dark;
}

html.theme-oled .panel,
html.theme-oled .setting-card {
  background: #000000;
  border: 1px solid #333333;
  box-shadow: none;
}

html.theme-oled h1,
html.theme-oled h2,
html.theme-oled h3,
html.theme-oled .heading {
  color: #ffffff;
}

html.theme-oled input,
html.theme-oled select,
html.theme-oled textarea {
  background: #000000;
  border: 1px solid #444444;
  color: #e0e0e0;
}

html.theme-oled .btn-primary,
html.theme-oled button.btn-primary {
  background: #1a1a1a;
  color: #ffffff;
  border: 1px solid #444444;
}

html.theme-oled a {
  color: #60a5fa;
}

html.theme-oled .site-nav,
html.theme-oled header {
  background: #000000;
  border-color: #333333;
  box-shadow: none;
}

html.theme-oled .card,
html.theme-oled .sponsor-card,
html.theme-oled .timeline-item,
html.theme-oled footer {
  background: #000000;
  border-color: #333333;
  box-shadow: none;
}

/* Paper Theme - Clean paper-like aesthetic */
html.theme-paper body {
  background: #fdfdf8;
  color: #2c2c2c;
  color-scheme: light;
}

html.theme-paper .panel,
html.theme-paper .setting-card {
  background: #ffffff;
  border: 1px solid #d4d4d0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

html.theme-paper h1,
html.theme-paper h2,
html.theme-paper h3,
html.theme-paper .heading {
  color: #1a1a1a;
  font-family: Georgia, serif;
}

html.theme-paper input,
html.theme-paper select,
html.theme-paper textarea {
  background: #fdfdf8;
  border: 1px solid #c0c0b8;
  color: #2c2c2c;
}

html.theme-paper .btn-primary,
html.theme-paper button.btn-primary {
  background: #4a4a46;
  color: #fdfdf8;
  border: 1px solid #3a3a36;
}

html.theme-paper a {
  color: #5a5a54;
  text-decoration: underline;
}

html.theme-paper .site-nav,
html.theme-paper header {
  background: #f8f8f0;
  border-color: #d4d4d0;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

/* Retro CRT Theme - Vintage computer terminal aesthetic */
html.theme-retro-crt body {
  background: #001a00;
  color: #00ff00;
  color-scheme: dark;
  font-family: 'Courier New', monospace;
  text-shadow: 0 0 2px #00ff00;
}

html.theme-retro-crt .panel,
html.theme-retro-crt .setting-card {
  background: #001a00;
  border: 2px solid #00ff00;
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
}

html.theme-retro-crt h1,
html.theme-retro-crt h2,
html.theme-retro-crt h3,
html.theme-retro-crt .heading {
  color: #00ff00;
  font-family: 'Courier New', monospace;
  text-shadow: 0 0 5px #00ff00;
}

html.theme-retro-crt input,
html.theme-retro-crt select,
html.theme-retro-crt textarea {
  background: #000000;
  border: 1px solid #00ff00;
  color: #00ff00;
  font-family: 'Courier New', monospace;
}

html.theme-retro-crt .btn-primary,
html.theme-retro-crt button.btn-primary {
  background: #003300;
  color: #00ff00;
  border: 2px solid #00ff00;
  font-family: 'Courier New', monospace;
  text-shadow: 0 0 3px #00ff00;
}

html.theme-retro-crt a {
  color: #00ff00;
  text-decoration: none;
  border-bottom: 1px solid #00ff00;
}

html.theme-retro-crt .site-nav,
html.theme-retro-crt header {
  background: #001a00;
  border-color: #00ff00;
  box-shadow: 0 0 10px rgba(0, 255, 0, 0.3);
}

html.theme-retro-crt .card,
html.theme-retro-crt .sponsor-card,
html.theme-retro-crt .timeline-item,
html.theme-retro-crt footer {
  background: #001a00;
  border: 1px solid #00ff00;
  box-shadow: 0 0 8px rgba(0, 255, 0, 0.2);
}

/* Date input calendar picker indicator visibility fixes */

/* Light themes - ensure no inversion (native dark icon) */
html.theme-light input[type="date"]::-webkit-calendar-picker-indicator,
html.theme-high-contrast-light input[type="date"]::-webkit-calendar-picker-indicator {
  filter: none;
  opacity: 1;
  cursor: pointer;
}

/* Dark theme - invert for visibility */
html.theme-dark input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
  opacity: 1;
  cursor: pointer;
}

/* High contrast dark - invert with brightness boost for maximum visibility */
html.theme-high-contrast-dark input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1) brightness(2);
  opacity: 1;
  cursor: pointer;
}

/* Media query fallback for browsers using system preference (only when no explicit theme class is set) */
@media (prefers-color-scheme: dark) {
  html:not(.theme-light):not(.theme-dark):not(.theme-high-contrast):not(.theme-high-contrast-light):not(.theme-high-contrast-dark) input[type="date"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
    opacity: 1;
    cursor: pointer;
  }
}

@media (prefers-color-scheme: light) {
  html:not(.theme-light):not(.theme-dark):not(.theme-high-contrast):not(.theme-high-contrast-light):not(.theme-high-contrast-dark) input[type="date"]::-webkit-calendar-picker-indicator {
    filter: none;
    opacity: 1;
    cursor: pointer;
  }
}
